# 🔑 Gemini API セットアップガイド

## 🚨 現在の状況

Gemini APIの500エラーが発生している場合、以下の原因が考えられます：

### 1. 無料枠の制限
- **課金情報未登録**: Gemini APIの無料枠でも、一部の機能には課金情報の登録が必要
- **地域制限**: 一部の地域でサービスが制限されている可能性
- **レート制限**: 無料枠の利用制限に達した可能性

### 2. APIキーの問題
- **権限不足**: APIキーに必要な権限が付与されていない
- **プロジェクト設定**: Google Cloud Projectの設定が不完全

## 🔧 解決方法

### Option 1: Gemini API セットアップ完了
1. **Google AI Studioでの設定**
   - https://makersuite.google.com/app/apikey にアクセス
   - 新しいAPIキーを生成
   - 必要に応じて課金情報を登録

2. **権限の確認**
   - Gemini API が有効になっているか確認
   - プロジェクトの権限設定を確認

### Option 2: モックモードで継続使用
```typescript
// app/api/chat/route.ts の71行目を変更
const USE_MOCK_MODE = true;
```

## 🎯 現在の実装状況

**フォールバック機能実装済み**:
- Gemini APIエラー時に自動的にモックモードに切り替わります
- エラーメッセージで状況をユーザーに通知
- システム全体は継続して動作

## 📝 エラーログの確認方法

開発サーバーのターミナルで以下の情報を確認してください：

```bash
=== DETAILED ERROR DEBUG ===
Error type: [エラータイプ]
Error message: [詳細メッセージ]
Request context: [リクエスト情報]
```

## 🚀 推奨される対応

### 短期的対応
1. **フォールバック機能を活用**
   - 現在の実装でも十分に動作します
   - ユーザーには適切な説明メッセージを表示

### 長期的対応
1. **Gemini API の完全セットアップ**
   - 課金情報の登録
   - プロジェクト権限の確認
2. **代替AIサービスの検討**
   - OpenAI API
   - Anthropic Claude API
   - その他のAIサービス

## 💡 現在の動作

**システムは正常に動作しています**:
- ✅ 商品データ読み込み
- ✅ UIアニメーション
- ✅ エラーハンドリング
- ✅ フォールバック機能
- ✅ 商品表示

Gemini APIが利用できない場合でも、モックモードで完全な機能体験が可能です。